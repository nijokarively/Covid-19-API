{"version":3,"sources":["./src/app/tab1/tab1.page.html","./src/app/tab1/tab1.module.ts","./src/app/tab1/tab1.page.scss","./src/app/tab1/tab1.page.ts"],"names":[],"mappings":"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","file":"tab1-tab1-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Global COVID-19 Info\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  \\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-subtitle>Global</ion-card-subtitle>\\n      <ion-card-title>Cases</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h1>{{info?.cases | number}}</h1>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-subtitle>Global</ion-card-subtitle>\\n      <ion-card-title>Deaths</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h1>{{info?.deaths | number}}</h1>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-subtitle>Global</ion-card-subtitle>\\n      <ion-card-title>Recovered</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h1>{{info?.recovered | number}}</h1>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-subtitle>Global</ion-card-subtitle>\\n      <ion-card-title>Active Cases</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h1>{{info?.cases - (info?.recovered + info?.deaths)  | number}}</h1>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-subtitle>Global</ion-card-subtitle>\\n      <ion-card-title>Closed Cases</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h1>{{info?.recovered + info?.deaths | number}}</h1>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\n  ],\n  declarations: [Tab1Page]\n})\nexport class Tab1PageModule {}\n","export default \"ion-content ion-toolbar {\\n  --background: translucent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS9DOlxcVXNlcnNcXE5pam9cXFByb2plY3RzXFxDb3ZpZC0xOS1BUElcXGZyb250ZW5kL3NyY1xcYXBwXFx0YWIxXFx0YWIxLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC90YWIxL3RhYjEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufSIsImlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn0iXX0= */\"","import { Component } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { Subscription, interval } from 'rxjs';\nimport { CovidService } from '../covid.service';\n\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss']\n})\nexport class Tab1Page {\n\n  info: any = null;\n\n  private sub: Subscription;\n\n  constructor(private covidService: CovidService, private storage: Storage, public toastController: ToastController) { }\n\n  async refreshingToast() {\n    console.log('Refreshing...');\n    const toast = await this.toastController.create({\n      message: 'Refreshing...',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  createSubscription() {\n    this.sub = interval(300000).subscribe((val) => {\n      this.refreshingToast();\n      this.getData();\n    });\n  }\n\n  deleteSubscription() {\n    this.sub.unsubscribe();\n  }\n\n  getData() {\n    this.covidService.getAll().subscribe((data) => {\n      if (data) {\n        this.info = data;\n        this.storage.set('global', data);\n      } else {\n        this.storage.get('global').then((val) => {\n          this.info = val;\n        });\n      }\n    });\n  }\n\n  ionViewWillEnter() {\n    this.getData();\n    this.createSubscription();\n  }\n\n  ionViewDidLeave() {\n    this.deleteSubscription();\n  }\n\n  doRefresh(event) {\n    this.refreshingToast();\n\n    this.getData();\n\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 2000);\n  }\n}\n"],"sourceRoot":"webpack:///"}